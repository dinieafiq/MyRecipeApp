<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title mode="ios">
      My Recipe Menu
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-toolbar class="search">
    <ion-buttons slot="end">
      <ion-button (click)="openFilterPopover($event)">
        <ion-icon slot="icon-only" name="filter"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-searchbar placeholder="Search" mode="ios" (ionInput)="handleInput($event)"></ion-searchbar>
  </ion-toolbar>
  <ion-list>
    <ion-list>
      <ion-item-sliding *ngFor="let item of displayItems; let i = index">
        <ion-item (click)="openDetailWithState(item)" button detail="true">
          <ion-label>
            {{ item.recipe.name }}
            <p>{{ item.type.replaceAll('_',' ') }}</p>
          </ion-label>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="openToUpdate(item)">
            <ion-icon slot="icon-only" name="create"></ion-icon>
          </ion-item-option>
          <ion-item-option color="danger" (click)="deleteConfirm(item.recipe.recipe_id)">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      <div *ngIf="!isLoaded">
        <ion-item-sliding >
          <ion-item>
            <ion-label>
              <h2>
                <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
              </h2>
              <p>
                <ion-skeleton-text [animated]="true" style="width: 50%;"></ion-skeleton-text>
              </p>
            </ion-label>
          </ion-item>
        </ion-item-sliding>
        <ion-item-sliding >
          <ion-item>
            <ion-label>
              <h2>
                <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
              </h2>
              <p>
                <ion-skeleton-text [animated]="true" style="width: 50%;"></ion-skeleton-text>
              </p>
            </ion-label>
          </ion-item>
        </ion-item-sliding>
        <ion-item-sliding >
          <ion-item>
            <ion-label>
              <h2>
                <ion-skeleton-text [animated]="true" style="width: 60%;"></ion-skeleton-text>
              </h2>
              <p>
                <ion-skeleton-text [animated]="true" style="width: 50%;"></ion-skeleton-text>
              </p>
            </ion-label>
          </ion-item>
        </ion-item-sliding>
      </div>
    </ion-list>
  </ion-list>
</ion-content>